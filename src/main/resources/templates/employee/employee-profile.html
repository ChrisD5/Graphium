<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header('Profile | Employee Check-In Portal')"/>

<body class="bg-nord-0">
<div class="container mx-auto">
    <div th:replace="fragments/navbars/employee-navbar :: navbar"/>
</div>
<div class="p-0">
    <div class="p-8 shadow mt-10">
        <div class="grid grid-cols-1 md:grid-cols-3">
            <div class="grid grid-cols-3 text-center order-last md:order-first mt-10 md:mt-0">

            </div>
            <div class="relative">
                <img th:src="${image != null ? 'data:charset=utf-8;base64,' + image : 'https://t4.ftcdn.net/jpg/00/64/67/63/360_F_64676383_LdbmhiNM6Ypzb3FM4PPuFP9rHe7ri8Ju.jpg'}"
                     class="w-34 h-34 bg-slate-100 mx-auto rounded-full shadow-xl absolute inset-x-0 top-0 -mt-8 flex items-center justify-center text-slate-600"
                     alt="Profile Picture"/>

            </div>
        </div>
        <div class="mt-30 text-center border-b pb-6">
            <a th:href="@{/e/profile/edit}"
               class="text-white py-1 px-2 uppercase rounded bg-slate-600 hover:bg-slate-700 shadow hover:shadow-lg font-medium text-xs transition transform hover:-translate-y-0.5">
                Edit Profile
            </a>
        </div>


        <div class="mt-5 text-center border-b pb-6">
            <h1 class="text-3xl font-xs text-nord-6" th:text="${user.name}"><span
                    class="font-light text-gray-500"></span>
            </h1>

            <p class="mt-4 text-nord-6" th:text="${user?.team?.name}"></p>
            <p class="mt-4 text-nord-6" th:text="${user.phone}"></p>
            <p class="mt-4 text-nord-6" th:text="${user.email}"></p>

        </div>

        <div class="flex flex-col gap-4 mx-8 my-10">
            <label class="text-nord-4 font-semibold tracking-wider text-lg text-center">Meeting Notes</label>
            <p class="text-nord-6 text-center font-light lg:px-16">No meeting notes found</p>
        </div>

        <div class="flex flex-col gap-4 mx-8 my-10">
            <label class="text-nord-4 font-semibold tracking-wider text-lg text-center">Check-In History</label>
            <table class="border-collapse w-full">
                <thead>
                <tr>
                    <th class="p-3 font-bold bg-nord-3 text-nord-4 border-gray-300 hidden lg:table-cell lg:w-1/3">
                        Time
                    </th>
                    <th class="p-3 font-bold bg-nord-3 text-nord-4 border-gray-300 hidden lg:table-cell">
                        Rating
                    </th>
                    <th class="p-3 font-bold bg-nord-3 text-nord-4 border-gray-300 hidden lg:table-cell">
                        Notes
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="checkin: ${checkins}"
                    class="bg-nord-1 lg:hover:bg-nord-2 flex lg:table-row flex-row lg:flex-row flex-wrap lg:flex-no-wrap mb-10 lg:mb-0">
                    <td class="w-full lg:w-auto p-3 text-nord-4 text-center border-b text-center block lg:table-cell relative lg:static">
                        <span class="lg:hidden absolute top-0 left-0 bg-nord-3 px-2 py-1 text-xs font-bold uppercase">Time</span>
                        <span th:text="${#dates.format(checkin.time)}"></span>
                    </td>
                    <td class="w-full lg:w-auto p-3 text-nord-4 text-center border-b text-center block lg:table-cell relative lg:static">
                        <span class="lg:hidden absolute top-0 left-0 bg-nord-3 px-2 py-1 text-xs font-bold uppercase">Rating</span>
                        <span th:text="${checkin.rating}"></span>
                    </td>
                    <td class="w-full lg:w-auto p-3 text-nord-4 text-center border-b text-center block lg:table-cell relative lg:static">
                        <span class="lg:hidden absolute top-0 left-0 bg-nord-3 px-2 py-1 text-xs font-bold uppercase">Notes</span>
                        <span th:text="${checkin.note != null ? checkin.note.text : 'N/A'}"></span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
<footer th:replace="fragments/footer :: footer"></footer>
</html>
